# 一、apiBase文档

1. [简介](简介.md)
2. [接口规范](接口规范.md)
2. [使用方式和Demo](使用方式和Demo.md)
2. [小部件](小部件.md)
2. [代码生成](小部件.md)

## 简介

页面中默认注入ResBuilder对象 $res 用于构建返回

$res 提供data和field两种方法


## 写法

```
<?php
//view
use ethercap\apiBase\components\ResBuilder;
use ethercap\apiBase\widgets\DetailApi;

/* @var $res ResBuilder*/
/* @var $model \common\models\Project */

$res->field('params')->widget(DetailApi::class, [
    'useModelResponse' => true,
    'model' => $model,
    'columns' => require 'detail_columns.php'
]);

```

``` 
//列表
<?php
use ethercap\apiBase\components\ResBuilder;
use yii\data\ActiveDataProvider;
use backend\models\ProjectSearch;
use ethercap\apiBase\widgets\DetailApi;
use ethercap\apiBase\widgets\ListApi;

/* @var $res ResBuilder*/
/* @var $dataProvider ActiveDataProvider */
/* @var $searchModel ProjectSearch*/

$res->data()->widget(ListApi::class, [
    'useModelResponse' => true,
    'dataProvider' => $dataProvider,
    'columns' => require 'columns.php'
]);

$res->field('params')->widget(DetailApi::class, [
    'useModelResponse' => true,
    'model' => $searchModel,
    'columns' => require 'search_columns.php'
]);

```